<script>
// test
o = wx.oscil({
  type: "sin",
  freq: 500,
  gain: 1.0,
  detune: 128
});
p = wx.oscil({
  freq: 500,
  gain: 0.0,
  
  detune: -64
});
f = wx.fader();

p.control(o.freq_);
o.to(f).to(wx.dac);

p
  .detune(0)
  .detune(0.01).detune(256, 2.0, "x");
p
  .gain(0.01).gain(1200, 2.0, "x");

// gain ride!
f
  .db(-80)
  .db(0, 4.0, "line")
  .db(-80, 5.0, "line");

o
  .detune(0)
  .detune(0.01) // this is necessary
  .detune(1200, 2.0, "expo");

// NOTE on "expo" mode
// : be careful with using 0 for value, it will spit out exceptions

/* p
  .gain(1200.0, 1, "expo")
  .gain(0.0, 2.0, "line")
  .gain(0.0, 4.0, "expo");
 */
// working
//o.gain(1.0, 0.01);
//o.gain(0.0, 2.00, "l");

// working
//o.gain(1.0, 0.01);
//o.gain(0.0, 2.00, "x");

// of course it's working
//o.gain(1.0, 0.01, "l");
//o.gain(0.0, [0.01, 1.00], "t");

// 1) if you know endTime of automation, use 'expo'
// 2) if you know starTime and duration of automation, use 'target'

/*
terms:
1) moment: a instantaneous point in time
2) timespan: an array of two moments
3) duration: displacement between two moments in a time span

param.func(target, moment, "jump", "line" or "expo");
param.func(target, timespan, "target");

*/

// control
// o.param(targetValue, afterfromNow(orfrommoment), transitionType);
</script>