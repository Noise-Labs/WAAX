<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <h1>Vowels</h1>
    <script src="../build/waax.min.js"></script>
    <script>
      // units
      var lfo = WX.Oscil({ freq:5, gain:4.0 }),
          saw = WX.Oscil({ type:"saw", gain: 0.7 }),
          fmt = WX.Formant(),
          vrb = WX.Converb({ mix: 0.2 });

      // connection
      lfo.control(saw.freq_);
      saw.to(fmt).to(vrb).to(WX.DAC);

      // score data
      var n = WX.NoteName;
      var mel = [n.C2, n.D2, n.E2, n.F2, n.G2].map(WX.pitch2freq);
      var tau = [0.0, 2.0, 4.0, 6.0, 8.0, 10.0].map(function (t) { 
        return WX.now + t; 
      });

      // development
      saw
        .freq(mel[0], tau[0])
        .freq(mel[0], tau[1]-0.1).freq(mel[1], tau[1], "x")
        .freq(mel[1], tau[2]-0.1).freq(mel[2], tau[2], "x")
        .freq(mel[2], tau[3]-0.1).freq(mel[3], tau[3], "x")
        .freq(mel[3], tau[4]-0.1).freq(mel[4], tau[4], "x")
        .freq(mel[4], tau[5]-0.1);
      fmt
        .vowel("a", tau[0])
        .vowel("a", tau[1]-0.1).vowel("e", tau[1], "x")
        .vowel("e", tau[2]-0.1).vowel("i", tau[2], "x")
        .vowel("i", tau[3]-0.1).vowel("o", tau[3], "x")
        .vowel("o", tau[4]-0.1).vowel("u", tau[4], "x")
        .vowel("u", tau[5]-0.1);
      fmt
        .gain(1.0, tau[5]-0.1)
        .gain(0.0, tau[5], "l");
    </script>
  </body>
</html>