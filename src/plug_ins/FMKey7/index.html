<!doctype html>
<html>
<head>
  <title>CMP1 | WAAX: Web Audio API eXtension</title>
  <script src="../../../build/waax.js"></script>
  <script src="../../../build/plug_ins/stereodelay.js"></script>
  <script src="../../../build/plug_ins/converb.js"></script>
  <link rel="import" href="../../../mui/mui.html">
  <link rel="import" href="../../../mui/mui-style.html">
  <!-- target plugin -->
  <script src="fmkey7.js"></script>
</head>

<body unresolved>

  <header>
    <div class="row">
      <div class="small-10 small-centered columns">
        <h3>Plug-in: <span id="plugin-name"></span></h3>
      </div>
    </div>
  </header>

  <article>
    <div class="row">
      <div class="small-10 small-centered columns">
        <mui-rack id="r-params"></mui-rack>
        <mui-rack label="Effects">
          <mui-group id="g-delay"></mui-group>
          <mui-group id="g-verb"></mui-group>
        </mui-rack>
        <mui-rack label="Keyboard">
          <mui-vkey id="vkey"></mui-vkey>
        </mui-rack>
      </div>
    </div>
  </article>

  <script>
    MUI.start(function () {

      var fmkey7 = WX.FMKey7(),
          delay = WX.StereoDelay({ mix: 1.0 }),
          verb = WX.ConVerb({ mix: 1.0 });

      fmkey7.to(WX.Master);
      fmkey7.to(delay).to(verb).to(WX.Master);

      MUI.$('plugin-name').textContent = fmkey7.info.name;

      MUI.buildControls(fmkey7, 'r-params');
      MUI.buildControls(delay, 'g-delay');
      MUI.buildControls(verb, 'g-verb');

      MUI.$('vkey').addTarget(fmkey7);

    });
  </script>

</body>
</html>
