!function(WX){"use strict";function WXS1(preset){WX.Plugin.defineType(this,"Generator"),this._osc1=WX.OSC(),this._osc2=WX.OSC(),this._osc1gain=WX.Gain(),this._osc2gain=WX.Gain(),this._lowpass=WX.Filter(),this._amp=WX.Gain(),this._osc1.to(this._osc1gain).to(this._lowpass),this._osc2.to(this._osc2gain).to(this._lowpass),this._lowpass.to(this._amp),this._amp.to(this._output),this._osc1.start(0),this._osc2.start(0),this.BUSY=!1,this.waveforms=["sine","square","sawtooth","triangle"],WX.defineParams(this,{osc1type:{type:"Items",label:"Waveform","default":"sawtooth",items:this.waveforms},osc1octave:{type:"Generic",unit:"Octave","default":0,min:-5,max:5},osc1gain:{type:"Generic",unit:"LinearGain","default":.5,min:0,max:1},osc2type:{type:"Items",label:"Waveform","default":"sawtooth",items:this.waveforms},osc2detune:{type:"Generic",unit:"Semitone","default":0,min:-60,max:60},osc2gain:{type:"Generic",unit:"LinearGain","default":.5,min:0,max:1},cutoff:{type:"Generic",unit:"Hertz","default":1e3,min:20,max:5e3},reso:{type:"Generic",unit:"","default":0,min:0,max:20},filterModAmount:{type:"Generic",unit:"","default":1,min:.25,max:8},filterDetune:{type:"Generic",unit:"Octave","default":0,min:0,max:5},filterAttack:{type:"Generic",unit:"Seconds","default":.02,min:0,max:5},filterDecay:{type:"Generic",unit:"Seconds","default":.04,min:0,max:5},filterSustain:{type:"Generic",unit:"","default":.25,min:0,max:1},filterRelease:{type:"Generic",unit:"Seconds","default":.2,min:0,max:10},amp:{type:"Generic",unit:"LinearGain","default":0,min:0,max:1},ampAttack:{type:"Generic",unit:"Seconds","default":.02,min:0,max:5},ampDecay:{type:"Generic",unit:"Seconds","default":.04,min:0,max:5},ampSustain:{type:"Generic",unit:"","default":.25,min:0,max:1},ampRelease:{type:"Generic",unit:"Seconds","default":.2,min:0,max:10}}),WX.Plugin.initPreset(this,preset)}WXS1.prototype={info:{name:"SimpleOsc",api_version:"1.0.0-alpha",plugin_version:"0.0.2",author:"hoch",type:"instrument",description:"2 Osc Monophonic Subtractive Synth"},defaultPreset:{osc1type:"square",osc1octave:-1,osc1gain:.6,osc2type:"square",osc2detune:7,osc2gain:.6,cutoff:140,reso:18,filterModAmount:7,filterDetune:0,filterAttack:.01,filterDecay:.07,filterSustain:.5,filterRelease:.03,amp:0,ampAttack:.01,ampDecay:.44,ampSustain:.2,ampRelease:.06,output:.8},$osc1type:function(value){this._osc1.type=value},$osc1octave:function(value,time,rampType){this._osc1.detune.set(1200*value,time,rampType)},$osc1gain:function(value,time,rampType){this._osc1gain.gain.set(value,time,rampType)},$osc2type:function(value){this._osc2.type=value},$osc2detune:function(value,time,rampType){this._osc2.detune.set(100*value,time,rampType)},$osc2gain:function(value,time,rampType){this._osc2gain.gain.set(value,time,rampType)},$cutoff:function(value,time,rampType){this._lowpass.frequency.set(value,time,rampType)},$reso:function(value,time,rampType){this._lowpass.Q.set(value,time,rampType)},$filterDetune:function(value,time,rampType){this._lowpass.detune.set(value,time,rampType)},$amp:function(value,time,rampType){this._amp.gain.set(value,time,rampType)},noteOn:function(pitch,velocity,time){time=time||WX.now;var p=this.params,aAtt=p.ampAttack.get(),aDec=p.ampDecay.get(),fAmt=1200*p.filterModAmount.get(),fAtt=p.filterAttack.get(),fDec=p.filterDecay.get(),fSus=p.filterSustain.get();return this._osc1.frequency.set(WX.mtof(pitch),time+.02,1),this._osc2.frequency.set(WX.mtof(pitch),time+.02,1),this.$amp(1,[time,aAtt],3),this.$filterDetune(fAmt,[time,fAtt],3),this.$amp(fSus,[time+aAtt,aDec],3),this.$filterDetune(fAmt*fSus,[time+fAtt,fDec],3),this},glide:function(pitch,time){time=(time||WX.now)+.04,this._osc1.frequency.set(WX.mtof(pitch),time,1),this._osc2.frequency.set(WX.mtof(pitch),time,1)},noteOff:function(time){time=time||WX.now;var p=this.params;return this._amp.gain.cancel(time),this._lowpass.frequency.cancel(time),this.$amp(0,[time,p.ampRelease.get()],3),this.$filterDetune(0,[time,p.filterRelease.get()],3),this},onData:function(action,data){switch(action){case"noteon":this.noteOn(data.pitch,data.velocity);break;case"glide":this.glide(data.pitch);break;case"noteoff":this.noteOff()}}},WX.Plugin.extendPrototype(WXS1,"Generator"),WX.Plugin.register(WXS1)}(WX);
//# sourceMappingURL=../waax_all.map