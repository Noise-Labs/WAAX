!function(WX){"use strict";function a(a){WX.Plugin.defineType(this,"Generator"),this._osc1=WX.OSC(),this._osc2=WX.OSC(),this._osc1gain=WX.Gain(),this._osc2gain=WX.Gain(),this._lowpass=WX.Filter(),this._amp=WX.Gain(),this._osc1.to(this._osc1gain).to(this._lowpass),this._osc2.to(this._osc2gain).to(this._lowpass),this._lowpass.to(this._amp),this._amp.to(this._output),this._osc1.start(0),this._osc2.start(0),this._amp.gain.value=0,this.BUSY=!1,WX.defineParams(this,{osc1type:{type:"Itemized",name:"Waveform","default":"square",model:b},osc1octave:{type:"Generic",name:"Octave","default":0,min:-5,max:5,unit:"Octave"},osc1gain:{type:"Generic",name:"Gain","default":.5,min:0,max:1,unit:"LinearGain"},osc2type:{type:"Itemized",name:"Waveform","default":"square",model:b},osc2detune:{type:"Generic",name:"Semitone","default":0,min:-60,max:60,unit:"Semitone"},osc2gain:{type:"Generic",name:"Gain","default":.5,min:0,max:1,unit:"LinearGain"},cutoff:{type:"Generic",name:"Cutoff","default":1e3,min:20,max:5e3,unit:"Hertz"},reso:{type:"Generic",name:"Reso","default":0,min:0,max:20,unit:""},filterModAmount:{type:"Generic",name:"Mod Amt","default":1,min:.25,max:8,unit:""},filterAttack:{type:"Generic",name:"Att","default":.02,min:0,max:5,unit:"Seconds"},filterDecay:{type:"Generic",name:"Dec","default":.04,min:0,max:5,unit:"Seconds"},filterSustain:{type:"Generic",name:"Sus","default":.25,min:0,max:1},filterRelease:{type:"Generic",name:"Rel","default":.2,min:0,max:10,unit:"Seconds"},ampAttack:{type:"Generic",name:"Att","default":.02,min:0,max:5,unit:"Seconds"},ampDecay:{type:"Generic",name:"Dec","default":.04,min:0,max:5,unit:"Seconds"},ampSustain:{type:"Generic",name:"Sus","default":.25,min:0,max:1},ampRelease:{type:"Generic",name:"Rel","default":.2,min:0,max:10,unit:"Seconds"}}),WX.Plugin.initPreset(this,a)}var b=[{key:"Sine",value:"sine"},{key:"Square",value:"square"},{key:"Sawtooth",value:"sawtooth"},{key:"Triangle",value:"triangle"}];a.prototype={info:{name:"SimpleOsc",api_version:"1.0.0-alpha",plugin_version:"0.0.2",author:"hoch",type:"instrument",description:"2 Osc Monophonic Subtractive Synth"},defaultPreset:{osc1type:"square",osc1octave:-1,osc1gain:.6,osc2type:"square",osc2detune:7,osc2gain:.6,cutoff:140,reso:18,filterModAmount:7,filterAttack:.01,filterDecay:.07,filterSustain:.5,filterRelease:.03,ampAttack:.01,ampDecay:.44,ampSustain:.2,ampRelease:.06,output:.8},$osc1type:function(a){this._osc1.type=a},$osc1octave:function(a,b,c){this._osc1.detune.set(1200*a,b,c)},$osc1gain:function(a,b,c){this._osc1gain.gain.set(a,b,c)},$osc2type:function(a){this._osc2.type=a},$osc2detune:function(a,b,c){this._osc2.detune.set(100*a,b,c)},$osc2gain:function(a,b,c){this._osc2gain.gain.set(a,b,c)},$cutoff:function(a,b,c){this._lowpass.frequency.set(a,b,c)},$reso:function(a,b,c){this._lowpass.Q.set(a,b,c)},noteOn:function(a,b,c){c=c||WX.now;var d=this.params,e=d.ampAttack.get(),f=d.ampDecay.get(),g=1200*d.filterModAmount.get(),h=d.filterAttack.get(),i=d.filterDecay.get(),j=d.filterSustain.get();return this._osc1.frequency.set(WX.mtof(a),c+.02,1),this._osc2.frequency.set(WX.mtof(a),c+.02,1),this._amp.gain.set(1,[c,e],3),this._lowpass.detune.set(g,[c,h],3),this._amp.gain.set(j,[c+e,f],3),this._lowpass.detune.set(g*j,[c+h,i],3),this},glide:function(a,b){b=(b||WX.now)+.04,this._osc1.frequency.set(WX.mtof(a),b,1),this._osc2.frequency.set(WX.mtof(a),b,1)},noteOff:function(a){a=a||WX.now;var b=this.params;return this._amp.gain.cancel(a),this._lowpass.detune.cancel(a),this._amp.gain.set(0,[a,b.ampRelease.get()],3),this._lowpass.detune.set(0,[a,b.filterRelease.get()],3),this},onData:function(a,b){switch(a){case"noteon":this.noteOn(b.pitch,b.velocity);break;case"glide":this.glide(b.pitch);break;case"noteoff":this.noteOff()}}},WX.Plugin.extendPrototype(a,"Generator"),WX.Plugin.register(a)}(WX);
//# sourceMappingURL=plug_ins.map