<!doctype html>
<html>
<head>

  <title>MUI | Web Audio API eXtension</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WAAX: Web Audio API eXtension</title>
  <link rel="stylesheet" href="../bower_components/foundation/css/normalize.css">
  <link rel="stylesheet" href="../bower_components/foundation/css/foundation.css">
  <script src="../bower_components/foundation/js/vendor/modernizr.js"></script>

  <script src="../bower_components/platform/platform.js"></script>
  <script src="../build/waax.js"></script>
  <script src="../build/plug_ins/WXS1.js"></script>
  <!--<script src="../src/waax.js"></script>-->
  <!--<script src="../src/plug_ins/WXS1.js"></script>-->

  <link rel="import" href="mui-blade/mui-blade.html">
  <link rel="import" href="mui-section/mui-section.html">
  <link rel="import" href="mui-knob/mui-knob.html">
  <link rel="import" href="mui-knobh/mui-knobh.html">
  <link rel="import" href="mui-dropdown/mui-dropdown.html">
  <link rel="import" href="mui-button/mui-button.html">
  <link rel="import" href="mui-vkey/mui-vkey.html">

  <style>
    body {
      background-color: #fafafa;
    }
    header {
      margin-top: 30px;
    }
    h2 {
      margin-top: 40px;
    }
  </style>

</head>
<body unresolved>

  <header>
    <div class="row">
      <div class="small-10 small-centered columns">
        <ul class="breadcrumbs">
          <li><a href="..">Home</a></li>
          <!-- <li><a href="#">Getting Started</a></li>
          <li><a href="#">API Reference</a></li> -->
          <li class="current">MUI Elements</li>
          <li><a href="../test">Test</a></li>
        </ul>
        <h3>MUI Elements <small>1.0.0-alpha</small></h3>
      </div>
    </div>
  </header>

  <article>
    <div class="row">
      <div class="small-10 small-centered columns">

        <mui-blade title="WXS-1" opened="true">
          <mui-section title="OSC1">
            <mui-dropdown id="select-osc1type" label="Type"></mui-dropdown>
            <mui-knob id="knob-osc1octave" label="Octave"></mui-knob>
            <mui-knob id="knob-osc1gain" label="Volume"></mui-knob>
          </mui-section>
          <mui-section title="OSC2">
            <mui-dropdown id="select-osc2type" label="Type"></mui-dropdown>
            <mui-knob id="knob-osc2detune" label="Detune"></mui-knob>
            <mui-knob id="knob-osc2gain" label="Volume"></mui-knob>
          </mui-section>
          <mui-section title="Master">
            <mui-knob id="knob-output" label="Volume"></mui-knob>
          </mui-section>
          <mui-section title="Filter">
            <mui-knob id="knob-cutoff" label="Cutoff"></mui-knob>
            <mui-knob id="knob-reso" label="Reso"></mui-knob>
            <mui-knob id="knob-filterAmt" label="Mod Amt"></mui-knob>
          </mui-section>
          <mui-section title="Filter Envelope">
            <mui-knob id="knob-filterA" label="Att"></mui-knob>
            <mui-knob id="knob-filterD" label="Dec"></mui-knob>
            <mui-knob id="knob-filterS" label="Sus"></mui-knob>
            <mui-knob id="knob-filterR" label="Rel"></mui-knob>
          </mui-section>
          <mui-section title="Amp Envelope">
            <mui-knob id="knob-ampA" label="Att"></mui-knob>
            <mui-knob id="knob-ampD" label="Dec"></mui-knob>
            <mui-knob id="knob-ampS" label="Sus"></mui-knob>
            <mui-knob id="knob-ampR" label="Rel"></mui-knob>
          </mui-section>
        </mui-blade>

        <mui-blade title="Keyboard" opened="true">
          <mui-vkey id="vkey"></mui-vkey>
        </mui-blade>

        <mui-blade title="Control" opened="true" disabled="true">
          <mui-section title="Tempo">
            <mui-knobh id="knob-tempo" label="BPM" min="20" max="200" value="120"></mui-knobh>
            <mui-knobh id="knob-quant" label="Qunatize" min="0" max="100" value="0"></mui-knobh>
            <mui-knobh id="knob-swing" label="Swing" min="0" max="100" value="0"></mui-knobh>
          </mui-section>
          <mui-section title="Transport">
            <mui-button icon="av:skip-previous"></mui-button>
            <mui-button icon="av:stop"></mui-button>
            <mui-button icon="av:pause"></mui-button>
            <mui-button icon="av:play-arrow" type="toggle"></mui-button>
            <mui-button icon="av:loop" type="toggle"></mui-button>
          </mui-section>
          <mui-section title="Collaboration">
            <mui-button icon="work" title="Pattern Collection"></mui-button>
            <mui-button icon="social:person-add" title="Add Collaborator"></mui-button>
            <mui-button icon="social:share" title="Share Pattern"></mui-button>
          </mui-section>
        </mui-blade>

      </div>
    </div>
  </article>

  <script>
    function init() {

      // this.waveforms = ['sine', 'square', 'sawtooth', 'triangle'];

      var waveforms = [
        { key: 'Sine', value: 'sine' },
        { key: 'Square', value: 'square' },
        { key: 'Sawtooth', value: 'sawtooth' },
        { key: 'Triangle', value: 'triangle' }
      ];

      var wxs1 = WX.WXS1();
      wxs1.to(WX.Master);

      MUI.$('select-osc1type').setModel(waveforms);
      MUI.$('select-osc1type').link(wxs1, 'osc1type');
      MUI.$('knob-osc1octave').link(wxs1, 'osc1octave');
      MUI.$('knob-osc1gain').link(wxs1, 'osc1gain');
      MUI.$('select-osc2type').setModel(waveforms);
      MUI.$('select-osc2type').link(wxs1, 'osc2type');
      MUI.$('knob-osc2detune').link(wxs1, 'osc2detune');
      MUI.$('knob-osc2gain').link(wxs1, 'osc2gain');
      MUI.$('knob-output').link(wxs1, 'output');

      MUI.$('knob-cutoff').link(wxs1, 'cutoff');
      MUI.$('knob-reso').link(wxs1, 'reso');
      MUI.$('knob-filterAmt').link(wxs1, 'filterModAmount');

      MUI.$('knob-filterA').link(wxs1, 'filterAttack');
      MUI.$('knob-filterD').link(wxs1, 'filterDecay');
      MUI.$('knob-filterS').link(wxs1, 'filterSustain');
      MUI.$('knob-filterR').link(wxs1, 'filterRelease');
      MUI.$('knob-ampA').link(wxs1, 'ampAttack');
      MUI.$('knob-ampD').link(wxs1, 'ampDecay');
      MUI.$('knob-ampS').link(wxs1, 'ampSustain');
      MUI.$('knob-ampR').link(wxs1, 'ampRelease');

      MUI.$('vkey').addTarget(wxs1);

    }

    window.addEventListener('polymer-ready', init);
  </script>

</body>
</html>
