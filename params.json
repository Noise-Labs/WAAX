{"name":"WAAX","tagline":"Web Audio API eXtension","body":"WAAX (Web Audio API eXtension)\r\n------------------------------\r\n**JavaScript library for music and audio programming on Chrome **\r\n\r\n### Please Note! ###\r\n\r\nThe newer version of library (r13) will be pushed soon and it will include various enhancements and extra elements: **Web MIDI API support, Polymer-powered musical UI widgets, and a couple of impressive examples**. If you are interested in the future release, you can checkout the 'dev' branch.\r\n\r\nThe information below is for the previous revision (r5) and will be deprecated with the release of the newer revision (r13) since it is a major update of library including several fundamental changes. Sorry for your inconvineince!\r\n\r\n### Quick links ###\r\n* [WX-IDE][6]\r\n* [NIME 2013 Paper][21]\r\n\r\n### Table of Contents ###\r\n* [Introduction](#indroduction)\r\n* [Demo](#demo)\r\n* [Usages](#usages)\r\n  * [Creating Units](#creating-units)\r\n  * [Making Connections](#making-connections)\r\n  * [Setting Parameters](#setting-parameters)\r\n  * [Visualization](#visualization)\r\n  * [Sample-accurate Looping](#sample-accurate-looping)\r\n  * [GUI](#gui)\r\n\r\n\r\nIntroduction\r\n------------\r\n\r\n```javascript\r\n// creating units\r\nvar saw = new WX.Oscil({ type:\"sawtooth\" }),\r\n    sqr = new WX.Oscil({ type:\"square\" }),\r\n    lpf = new WX.ModLPF({ cutoff:2500, Q:12 }),\r\n    env = new WX.ADSR({ a:0.001, d:0.002, s:0.3, r:0.1 }),\r\n    vrb = new WX.ConVerb({ source:\"ir/hall.wav\", mix:0.3 });\r\n// building an audiograph\r\nWX.link(saw, lpf, env, vrb, WX.DAC);\r\n// connecting units\r\nsqr.to(lpf);\r\n```\r\n\r\nWAAX is an experimental JavaScript library built on top of [Web Audio API][1] in Chrome. With **music creation and production** in mind, it is designed to offer the higher level of functionality than basic building blocks of Web Audio API.\r\n\r\nThe goal of this project is 1) to facilitate experiments and iterations of web-based audio programming and 2) to hide audio-specific chores from web developers who are not familiar with audio programming. This library is designed to be used with other JavaScript APIs available on modern web browsers.\r\n\r\nThe facade of API is strongly inspired by [THREE.js][2] and [ChucK][3]: Three.js is one of WebGL JavaScript libraries widely being used for web-based 3D graphics. ChucK is an experimental audio programming language being actively developed and used by computer music communities such as [PLOrk][4](Princeton Laptop Orchestra) and [SLOrk][5](Stanford Laptop Orchestra).\r\n\r\nAs this library is in early stages of development, it currently demonstrates minimum set of features, however, it will embrace more elements as it grows: ready-made instruments, comprehensive timebase system (in conjunction with Web MIDI API), and musical interconnection between multiple Chrome clients.\r\n\r\n[FireFox has recently started implementing Web Audio API][20] and it's partially available in the Nightly Build. Safari also has the implementation of Web Audio API but it is slightly outdated compared to the one in Chrome.)\r\n\r\n[1]: https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html \"Web Audio API: W3C Editor's Draft\"\r\n[2]: https://github.com/mrdoob/three.js/ \"THREE.js: Github Repo\"\r\n[3]: http://chuck.cs.princeton.edu/\r\n[4]: http://plork.cs.princeton.edu/\r\n[5]: http://slork.stanford.edu/\r\n[20]: https://hacks.mozilla.org/2013/02/webrtc-enabled-h-264mp3-support-in-win-7-on-by-default-metro-ui-for-windows-8-more-firefox-development-highlights/\r\n[21]: https://github.com/hoch/WAAX/raw/master/etc/nime2013-choi-waax-r3.pdf\r\n[22]: https://ccrma.stanford.edu/~hongchan/WAAX/\r\n[23]: https://github.com/hoch/WAAX/issues\r\n\r\n\r\nDemo\r\n----\r\nRequirements: **Google Chrome 20+** on any platform (Win/OSX/Linux). You can check the availability of the API in different web browsers [here](http://caniuse.com/audio-api).\r\n\r\n * **[mini-IDE][6]** (which includes all the examples below)\r\n  * [Hello WAAX][15]\r\n  * [WAAX does THX][10]\r\n  * [Acidic Bassline][11]\r\n  * [Simple Drum Sampler][12]\r\n  * [Take the I train][16]\r\n  * [Custom Visualizer][13]\r\n  * [WAAX GUI (pilot)][14]\r\n\r\n_Adjust your volume setting before clicking. It might be loud!_\r\n\r\n[6]: http://hoch.github.com/WAAX/examples/editor.html\r\n[10]: http://hoch.github.com/WAAX/examples/waax-does-thx.html\r\n[11]: http://hoch.github.com/WAAX/examples/acidic-bassline.html\r\n[12]: http://hoch.github.com/WAAX/examples/simple-drum-sampler.html\r\n[13]: http://hoch.github.com/WAAX/examples/visualizer.html\r\n[14]: http://hoch.github.com/WAAX/examples/ui-manager.html\r\n[15]: http://hoch.github.com/WAAX/examples/hello-waax.html\r\n[16]: http://hoch.github.com/WAAX/examples/take-i-train.html\r\n\r\n\r\nUsages\r\n------\r\n\r\n### Creating Units\r\n\r\n```javascript\r\n// creating a sampler and a compressor units\r\nvar kick = new WX.Sampler({ source: \"kd.wav\", basePitch: 60 }),\r\n    comp = new WX.Comp();\r\n```\r\n\r\nLike the _node_ in Web Audio API, WAAX has its own atomic object called **unit**. It is conceptually identical to the 'unit generator' of other audio programming environments. A unit can be created with initial parameters, or it can be set with default parameters when created with no argument.\r\n\r\n\r\n### Making Connections\r\n\r\n```javascript\r\n// connecting units with .to() method\r\nkick.to(comp).to(WX.DAC);\r\n// equivalent to the above\r\nWX.link(kick, comp, WX.DAC);\r\n```\r\n\r\nAs shown above, the connection between several WAAX units can be achieved by chaining `.to()` methods. Alternatively, the `WX.link()` method can be used to build an audiograph out of multiple units. `WX.DAC` is the master output of WAAX system.\r\n\r\n```javascript\r\n// native Web Audio API node\r\nvar node = myAudioContext.createGain();\r\n// unit => node\r\nkick.connect(node);\r\n// node => unit\r\nnode.connect(comp._inlet);\r\n```\r\n\r\nThe connection from a WAAX unit to Web Audio API node can be done by `.connect()` method, which is the same method in Web Audio API, but the connection from a node to a unit should be done manually with `._inlet` node from a unit. This enables to use the library in conjunction with plain Web Audio API codes.\r\n\r\n\r\n### Setting Parameters\r\n\r\n_note: this will be changed in the next revision._\r\n\r\n```javascript\r\ncomp.threshold = -12;\r\ncomp.ratio = 8.0;\r\nkick.params = { source:\"kd2.wav\", basePitch:48 };\r\n\r\nconsole.log(kick.source);\r\n>>> \"kd2.wav\"\r\nconsole.log(kick.params);\r\n>>> { source:\"kd2.wav\", basePitch:48 }\r\n```\r\n\r\nAll the parameters of a unit is accessible by simply setting or getting values. Alternatively, passing a javascript object literal with parameters into `.params` is also possible. Getting available parameters from a unit can be done by printing out `.params` as well.\r\n\r\n\r\n### Visualization : [Example][12]\r\n\r\n```javascript\r\n// creating waveform display with target canvas ID\r\nvar wf = new WX.Waveform({ canvas:\"CANVAS-ID\" });\r\n// connecting compressor unit to waveform visualizer\r\ncomp.to(wf);\r\n// draw waveform\r\nwf.draw();\r\n```\r\n\r\nUsing a set of units called _Analyzers_, visualizing waveforms and spectrum can be achieved instantly. The visual content will be automatically resized according to the size of the target canvas DOM element.\r\n\r\n### Sample-accurate Looping\r\n\r\n```javascript\r\n// playNote function\r\nfunction playNote(next) {\r\n  adsr.noteOn(next);\r\n  adsr.noteOff(next + 1.0);\r\n}\r\n// looping playNote() infinitely every 3 seconds\r\nvar myLoop = new WX.Loop(playNote, 0, 3.0);\r\nmyLoop.start();\r\n```\r\n\r\nTriggering events with super-accurate timing is a quite involved task on the web browsers due to the nature of `setTimeout()` or `setInterval()` function. However, the `WX.Loop()` object provides the sample-accurate looping mechanism. The API for sample-accurate event management is the key objective of this library and it will be expanded to accommodate more complex musical forms. (The detailed description of the scheduling mechanism can be found [here](http://www.html5rocks.com/en/tutorials/audio/scheduling/).)\r\n\r\n\r\n### GUI : [Example][14]\r\n\r\n```javascript\r\n// div for UI panel\r\nvar panel = document.getElementById(\"wx-uipanel\");\r\n// a knob\r\nvar ka = new WX.UIKnob({\r\n  targetDiv:panel, label:\"Attack\",\r\n  x:250, y:485, offset: 0.001, scale: 0.5, value: 0.2\r\n});\r\n// targeting an attack parameter in an ADSR unit\r\nka.setTargetValue(adsr, \"a\");\r\n```\r\n\r\nThe basic GUI interaction is implemented in the current revision (r5): vertical/horizontal slider, and a knob. WAAX units have \"modulation targets\" that can be controlled by various modulation sources such as GUI components or even other units simply by putting a single line of code.\r\n\r\n\r\nUnits: Generators, Processors and Analyzers\r\n-------------------------------------------\r\nAs WAAX is in early stages of development, there are several components (which are yet to be released publicly) to be incorporated into this library in the near future. I am currently expanding its sonic vocabulary by adding more units to the library. The followings are a basic set of units as the first milestone. A detailed documentation for various units will be available soon.\r\n\r\n### Generators\r\n`WX.Oscil` `WX.Noise` `WX.Sampler` `WX.LFO` `WX.ImpTrain`\r\n\r\n### Processors\r\n`WX.ADSR` `WX.ModLPF` `WX.LPF` `WX.TwinDelay` `WX.ConVerb` `WX.Comp` `WX.C2`\r\n\r\n### Analyzers\r\n`WX.Waveform` `WX.Spectrum` `WX.Visualizer`\r\n\r\n### GUI\r\n`WX.UISliderH` `WX.UISliderV` `WX.UIKnob`\r\n\r\n### Utilities\r\n`WX.random2` `WX.random2f` `WX.db2lin` `WX.lin2db` `WX.pitch2freq` `WX.freq2pitch`\r\n\r\n\r\nContact and License\r\n-------------------\r\nThis project is initiated and managed by hoch([Hongchan Choi][9]) at [CCRMA/Stanford University](https://ccrma.stanford.edu/). Please refer LICENSE file (MIT License) for more info.\r\n\r\n[9]: https://ccrma.stanford.edu/~hongchan/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}